<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>分享到</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <style>
    #div1{width: 100px;height: 200px;position: absolute;background: red; left: -100px; top:30px;}
    #div2{width: 30px;height: 60px;position: absolute;background: green; right:-30px; color: #fff;top: 70px; text-align: center;}
      #google{ opacity: 0.3; filter:alpha(opacity = 30); left: 300px; position: relative;}

</style>
  <script>
    window.onload  =function(){

        var oDiv1 =document.getElementById('div1');
        var oImg =document.getElementById('google');
        // var timer = null;
        oDiv1.onmouseover = function(){
           // oDiv1.style.display = 'none';
           // this.style.left = '0';
           // startMove(oDiv1,'left',10,0);
           startMove(this,'left',0,10);
           
        }
        oDiv1.onmouseout = function(){
           // oDiv1.style.display = 'none';
            // this.style.left = '-100px'
        // startMove(oDiv1,'left',10,-100);
           // startMove();
            startMove(this,'left',-100,-10);


        }         
        oImg.onmouseover = function(){
           // oDiv1.style.display = 'none';
           // this.style.left = '0';
           // startMove(oDiv1,'left',10,0);
           startMove(this,'opacity',100,10);
           
        }
        oImg.onmouseout = function(){

            startMove(this,'opacity',30,-10);

        } 


       function startMove(obj,attr,iTarget,iSpeed) {

        clearInterval(obj.timer);
        var iCur = 0;

        obj.timer = setInterval(function() {
            if(attr=='opacity'){
              
               iCur = Math.round(css(obj,'opacity')*100);

            }else{

                iCur = parseInt(css(obj,attr));

            }

            if(iCur ==iTarget){

                clearInterval(obj.timer);
            }else{
                  if(attr=='opacity'){
                                obj.style.opacity = (iCur+iSpeed) / 100;
                                obj.style.filter = 'alpha(opacity:' + (iCur+iSpeed)  + ')';
                  }else{
                      obj.style[attr]=iCur+iSpeed+'px';
                  }
            }
           
        }, 30);
      }
        function css(obj, attr) {
          console.trace();
      return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj,false)[attr];

      }
      
   }
</script>
</head>
<body>
  <div id="div1">
    <div id="div2">分享到</div>
  </div>
  <img src="images/g.png" id="google"></body>
</html>