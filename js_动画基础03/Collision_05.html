<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>碰撞运动</title>
	<style>
		#div1{background:red; width: 100px; height: 100px; position:absolute; left: 0; top:0;}
	</style>
	<script>
                window.onload = function() {
                  var oDiv = document.getElementById( 'div1' );
                  var iSpeedX = 10;
                  var iSpeedY = 10;
                  startMove();

                  function startMove() {
                    setInterval( function() {
                      var L = oDiv.offsetLeft + iSpeedX;
                      var T = oDiv.offsetTop + iSpeedY;
                      if ( T > document.documentElement.clientHeight - oDiv.offsetHeight ) {
                        T = document.documentElement.clientHeight - oDiv.offsetHeight;
                        iSpeedY *= -1;
                      } else if ( T < 0 ) {
                        T = 0;
                        iSpeedY *=- 1;
                      }

                     if ( L > document.documentElement.clientWidth - oDiv.clientWidth ) {
                        L = document.documentElement.clientWidth - oDiv.clientWidth;
                        iSpeedX *= -1;
                      } else if ( L < 0 ) {
                        L = 0;
                        iSpeedX *=- 1;
                      }
                      // console.log(T);
                      // if(L>=document.documentElement.clientWidth - oDiv.offsetWidth){
                      //         L= document.documentElement.clientWidth - oDiv.offsetWidth;
                      //         iSpeedX*=-1;
                      //          console.log(iSpeedX);
                      //  }else if(L<=0){
                      //            L = 0;
                      //            iSpeedX*=1;
                      //            console.log(iSpeedX);
                      // }

                      oDiv.style.left = L+'px';
                      oDiv.style.top = T + 'px';
                      // console.log(oDiv.style.top+'aa'+T);

                    }, 30 );
                  }
                }
	</script>
</head>
<body>
	<div id="div1"></div>
</body>
</html>