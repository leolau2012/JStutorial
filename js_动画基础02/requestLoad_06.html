<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>图片的按需加载</title>
<meta name="description" content="">
<meta name="keywords" content="">
<style>
    #wrap{ width: 960px; margin:  0 auto; text-align: center;}
    #wrap img{ width:300px; border:1px solid black; height: 171px;}
</style>
<script>
    window.onload = function(){
        getImage();
        window.onscroll= getImage;
        function getImage(){

             var scrollTop =document.documentElement.scrollTop||document.body.scrollTop;
             var iH = scrollTop+document.documentElement.clientHeight;
             var aImg = document.getElementsByTagName('img');
             for (var i = 0; i < aImg.length; i++) {
                    if (!aImg[i].isLoad&&getTop(aImg[i])<iH) {
                        console.log(getTop(aImg[i])+'ddd'+iH);
                        aImg[i].src=aImg[i].getAttribute('_src');
                        aImg[i].isLoad = true;
                    };
             };

        }
        function getTop(obj){
            iTop = 0;
            while(obj){
                iTop+=obj.offsetTop;
                obj=obj.offsetParent;
            }
            return iTop;
        }
 }
</script>
</head>
<body>
    <div id="wrap">
             <img src="" alt="" _src="img/1.jpg">
             <img src="" alt="" _src="img/2.jpg">
             <img src="" alt="" _src="img/3.jpg">
             <img src="" alt="" _src="img/4.jpg">
             <img src="" alt="" _src="img/5.jpg">
             <img src="" alt="" _src="img/6.jpg">
             <img src="" alt="" _src="img/7.jpg">
             <img src="" alt="" _src="img/8.jpg">
             <img src="" alt="" _src="img/9.jpg">
             <img src="" alt="" _src="img/10.jpg">
             <img src="" alt="" _src="img/11.jpg">
             <img src="" alt="" _src="img/12.jpg">                  

    </div>
</body>
</html>